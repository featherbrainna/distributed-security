# distributed-security
### 分布式认证授权
基于spring security、spring auhoriztion server框架和oauth2.0协议实现。
但本项目尚未完善完全：
1. 在网关模块存在Bug无法解决。
2. 网关作为所有请求的接收者，访问资源服务路径时无法自动的跳转到认证服务，认证后再次携带授权token访问资源服务，这个流程尚未实现（未认证请求认证后再请求）。
3. 网关的完善过滤规则尚未实现。   
  3.0 **无需认证**的路径直接转发。  
  3.1 **需要认证**的路径**带token**直接解析token处理鉴权客户端解析明文token转发给资源服务器。若流程错误则认证授权失败，跳转到认证服务处理；成功则转发资源服务鉴权。   
  3.2 **需要认证**的路径**不带token**，跳转到认证服务处理后继续交由网关处理（这里网关处理逻辑有些类似客户端）。
4. 自定义的User类导致异常`SecurityUser is not in the allowlist`未解决。可以采用序列化技术再User得username字段存储所有用户信息。
